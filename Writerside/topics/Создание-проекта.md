# Создание проекта

Для создания проекта используйте команду

```Bash
~ $ py -m slinn create helloworld
```

> Все дальнейшие действия будут выполняться в папке проекта

helloworld - название папки, в которой создастся проект. Slinn сам создаст папку, однако если она есть, то выдаст
предупреждение типа

`helloworld has already existed`

его можно проигнорировать

> В этой статье и далее я буду использовать команду `vpy`. Это просто сокращение `venv/bin/python` для UNIX-подобных 
> систем и `venv\Scripts\python` для Windows

Для запуска используйте команду

```Bash
helloworld $ vpy manage.py run
```

```Bash
Loading config...
Apps: firstrun
Debug mode enabled
Smart navigation enabled

Starting server...
HTTP server is available on http://localhost:8080/
```

Открыв указанную ссылку в браузере, вы увидите подобное
![localhost8080.png](localhost8080.png)

Это значит ваш проект создался успешно, и вообще все вы сделали хорошо

## Строение проекта

**Дерево минимального проекта**
```Text
├───venv/
├───manage.py
└───project.json
```

- `manage.py` нужен для управления проектом и изменять его не стоит. При обновлении проекта файл перезаписывается
- `project.json` содержит различные настройки

Однако, при создании проекта как показано выше, структура будет следущая:

```Text
├───firstrun/
├───templates_data
│   └───firstrun/
├───venv/
├───manage.py
└───project.json
```

Устанавливается приложение `firstrun` в соответствующую папку, а также его статические файлы в папку 
`templates_data/firstrun`

## Управление приложениями

В Slinn проект не может работать без приложений. При запуске пустого проекта браузер выдаст ошибку, что сервер отправил 
пустой ответ

Для создания приложения введите

```Bash
helloworld $ vpy create localhost host=127.0.0.1 host=::1 host=:: host=localhost
```

Это создаст приложение в папке localhost. Само приложение будет называться аналогинчо. Также в конфиг проекта 
`project.json` будет добавлено это приложение

`host=домен-или-IP-адрес` нужно для того, чтобы приложение работало только на определенных доменах и IP-адресах. 
Однако, этот параметр можно не указывать и приложение будет работать на всех доступных доменах и IP-адресах

Для того, чтобы удалить приложение, введите

```Bash
helloworld $ vpy delete firstrun
```

## Строение приложения

**Дерево минимального приложения**
```Text
├───__init__.py
├───app.py
└───config.json
```

- `__init__.py` нужен для загрузки проекта и изменять его не стоит. При обновлении приложения файл перезаписывается
- `app.py` является главным файлом приложения. Он содержит один `Dispatcher`
- `config.json` нужен для настройки проекта, однако, кроме настройки `debug` в нем ничего нет

## Шаблоны приложений

В Slinn на данный момент существует два шаблона приложений
- firstrun - то самое приложение, которое устанавливается автоматически при создании проекта
- example - это просто пример 

Шаблоны приложений находятся в `место-установки-slinn/templates/`

В шаблонах есть папка `data`, в которой хранятся статические файлы. При установке шаблона, эти файлы переносятся в `templates_data/название-шаблона`

Чтобы установить шаблон, введите

```Bash
helloworld $ vpy manage.py template example
```
где

`example` - имя шаблона

## Конфигурация проекта

Проект конфигурируется в файле `project.json` 

Разберем пример конфигурационного файла, который создается автоматически

```JSON
{
    "host": "localhost",
    "port": 8080,
    
    "debug": true,

    "ssl": {
        "fullchain": false,
        "key": false
    },
    "apps": ["firstrun"],

    "smart_navigation": true,
    "max_bytes_per_recieve": 4096,
    "max_bytes": 4294967296
}
```

- [host] для указания IP-адрес, на котором будет работать сервер. Если указан домен, то он сконвертируется в IP-адрес
- [port] для указания порта, который будет слушать сервер
- [debug] если `false`, то debug-приложения не будут использоваться
- [ssl][fullchain] файл с публичным сертификатом ssl
- [ssl][key] файл с приватным ключом ssl
- [apps] список приложений. Больший приоритет имеет то приложение, которое находится раньше по списку
- [smart_navigation] использование технологии Smart Navigation
- [max_bytes_per_recieve] максимальное количество байт, которое примет сокет за один раз
- [max_bytes] максимальное количество байт, которое примет сокет за запрос. Во избежание проблем, число должно быть меньше свободной ОЗУ